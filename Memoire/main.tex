%====================================================================
% Memoire de Master - SecureIoT-VIF Community Edition:
% Un Framework Éducatif pour la Securite des Firmwares IoT
%====================================================================

\documentclass[12pt,a4paper,twoside]{book}

% Configuration mémoire LaTeX
\def\mainmemory{8000000}

% Packages essentiels
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[french]{babel}
\usepackage{geometry}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{url}
\usepackage{hyperref}

% Configuration des listings avec optimisation mémoire
\usepackage{listings}
\lstset{
  basicstyle=\footnotesize\ttfamily,
  breaklines=true,
  breakatwhitespace=true,
  showspaces=false,
  showstringspaces=false,
  tabsize=2,
  frame=none,
  columns=flexible,
  keepspaces=true,
  xleftmargin=0pt,
  xrightmargin=0pt,
  resetmargins=true
}
\usepackage{color}
\usepackage{xcolor}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{booktabs}
\usepackage{array}
\usepackage{longtable}
\usepackage{multirow}
\usepackage{subcaption}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{appendix}
\usepackage{acronym}
\usepackage{nomencl}
\usepackage{setspace}
\usepackage{titlesec}
\usepackage{tocloft}
% Configuration pour bibtex (au lieu de biber)
\usepackage{natbib}
\bibliographystyle{ieeetr}

% Configuration de la page
\geometry{
    left=2.5cm,
    right=2.5cm,
    top=2.5cm,
    bottom=2.5cm,
    bindingoffset=0.5cm
}

% Configuration des en-tetes et pieds de page
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\leftmark}
\fancyhead[RE]{\rightmark}

% Configuration des liens hypertexte
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
    citecolor=red,
    pdftitle={SecureIoT-VIF Community Edition: Un Framework Éducatif pour la Securite des Firmwares IoT},
    pdfauthor={Nom de l'etudiant},
    pdfsubject={Memoire de Master},
    pdfkeywords={IoT, Firmware Security, Educational Framework, ESP32, Community Edition, mbedTLS, Lightweight Security}
}

% Configuration des couleurs pour le code
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

% Configuration des listings
\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}

\lstset{style=mystyle}

% Espacement
\onehalfspacing

% Configuration des titres
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}

% Variables pour la page de titre
\newcommand{\universite}{Universite [Nom de votre universite]}
\newcommand{\faculte}{Faculte [Nom de votre faculte]}
\newcommand{\departement}{Departement [Nom de votre departement]}
\newcommand{\titre}{SecureIoT-VIF Community Edition: Un Framework Éducatif pour la Securite des Firmwares IoT - Conception et Validation d'une Solution d'Apprentissage Accessible basee sur ESP32 et Cryptographie Software}
\newcommand{\auteur}{[Votre nom]}
\newcommand{\directeur}{[Nom du directeur]}
\newcommand{\codirecteur}{[Nom du co-directeur]}
\newcommand{\annee}{2025}

% Commandes pour les acronymes
\newcommand{\iot}{IoT}
\newcommand{\se}{SE}
\newcommand{\vif}{VIF}
\newcommand{\mbedtls}{mbedTLS}

\begin{document}

% Pages preliminaires
\frontmatter

% Page de titre
\input{chapters/titlepage}

% Page blanche
\cleardoublepage

% Dedicace
\input{chapters/dedication}

% Remerciements
\input{chapters/acknowledgments}

% Resume
\input{chapters/abstract}

% Table des matieres
\tableofcontents

% Liste des figures
\listoffigures

% Liste des tableaux
\listoftables

% Liste des algorithmes
\listofalgorithms

% Liste des acronymes
\input{chapters/acronyms}

% Corps du document
\mainmatter

% CHAPITRES ACTIVES - TEST PROGRESSIF
\input{chapters/chapter1}
\input{chapters/chapter2}
\input{chapters/chapter3}
\input{chapters/chapter4}
\input{chapters/chapter5}
\input{chapters/chapter6}
\input{chapters/chapter7}

% Appendices
\appendix
\input{chapters/appendices}
\input{chapters/appendix}

% Bibliographie
\bibliography{bibliography/references}

\end{document}